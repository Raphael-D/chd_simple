{"version":3,"sources":["common.js"],"names":["isPhone","navigator","userAgent","indexOf","$","$trigger","$menu","tgClass","duration","animation","$win","window","width","click","this","toggleClass","slideToggle","resize","location","reload","each","$ele","wrap","data","objectFitImages","$localAnchor","$targetModule","i","attr","bind","e","scrolled","scrollTop","css","parallaxScroll","delay","queue","loop","addEventListener","hideForm","tgForm","formLength","length","style","display","tgFormChild","querySelectorAll","disabled","existForm","returnCgi","returnUrl","formAction","document","contactForm","action","mfpJs","src","getElementById","tgSelector","recruitForm","getElementsByClassName","includeUrl","newcgiUrl","onchange","value"],"mappings":"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","file":"../js/common.min.js","sourcesContent":["//ルール\n//宣言はvar,letを使用する\n//jQueryで取得したものは接頭辞に$をつける「$objectName」\n//スマートに書くことも大事だが可読性重視で多少は分けて書く\n\n//toggle.js ==========================test\n//スマートフォン用グローバルナビゲーションのスライド\n\n$(function() {\n\tvar breakPoint = 600, //ウィンドウのブレーク幅\n\t\t$trigger = $('#toggle'), //クリックで発火する要素\n\t\t$menu = $('#menu'), //クリックで見え隠れさせる要素\n\t\ttgClass = 'is-open', //クリックで発火する要素に付与するクラス\n\t\tduration = 300, //見え隠れさせるときの動きのスピード\n\t\tanimation = 'swing'; //見え隠れさせるときのアニメーションの種類\n\tvar $win = $(window).width(); //ロードした時のウィンドウ幅取得\n\tfunction MenuSlider() { //戻り値\n\t\t$($trigger).click(function() {\n\t\t\t$(this).toggleClass(tgClass);\n\t\t\t$($menu).slideToggle(duration, animation);\n\t\t\treturn false;\n\t\t});\n\t};\n\t$(function() {\n\t\tif ($win <= breakPoint) {\n\t\t\tMenuSlider();\n\t\t\t$(window).resize(function() {\n\t\t\t\t$win = $(window).width();\n\t\t\t\tif ($win >= breakPoint) {\n\t\t\t\t\tlocation.reload();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t$(window).resize(function() {\n\t\t\t\t$win = $(window).width(); //リサイズごとに取得\n\t\t\t\tif ($win <= breakPoint) {\n\t\t\t\t\tlocation.reload();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n});\n\n// -------------------------------------\n//END toggle.js ========================================\n\n//phone.js ==========================\n//電話ボタンをスマートフォンの時のみダイヤル起動、PCでは起動させない\n\n$(function() {\n\tif (!isPhone())\n\t\treturn;\n\t$('span[data-action=call]').each(function() {\n\t\tvar $ele = $(this);\n\t\t$ele.wrap('<a href=\"tel:' + $ele.data('tel') + '\" ' + 'class=\"' + 'js_dateTel\"></a>');\n\t});\n});\n\nfunction isPhone() {\n\treturn (navigator.userAgent.indexOf('iPhone') > 0 || navigator.userAgent.indexOf('Android') > 0);\n}\n// -------------------------------------\n//END phone.js ========================================\n\n\n//ofi.min.js =========================\n//オブジェクトフィットの関数呼び出し\n\n$(function() {\n\tobjectFitImages('.ofi');\n});\n// -------------------------------------\n//END ofi.min.js ========================================\n\n\n\n//locate.js =========================\n//現在いるページと同一のURLの場合にリンクを消してcurrentクラスを付与する\n\n// $('.locate').each(function (i, e) {\n//     var stateLocation = $(location).attr('href'),\n//     targetAnchor = $(this).children('a'),\n//     elementLocation = targetAnchor.attr('href'),\n//     elementText = targetAnchor.text(),\n//     elementClass = targetAnchor.attr('class');\n//     if (stateLocation === elementLocation) {\n//         $(this).addClass('current');\n//         var elementChild = $(this).children().html();\n//         targetAnchor.replaceWith('<span>' + '</span>');\n//         $(this).children('span').addClass(elementClass);\n//         if (elementChild !== null) {\n//             $(this).children('span').prepend(elementChild);\n//         }\n//     }\n// });\n// -------------------------------------\n//END locate.js ========================================\n\n\n//anchor_check.js\n//全てのa要素のURLが現在のページと同じURLの時にクラス名はそのままでspanタグに置き換える\n//また、内包する子要素が存在する場合はそちらもそのまま\n\n// $(function() {\n// \t$('a').each(function() {\n// \t\tvar dirName = 'http://ndt-00.onamae.jp/proto/plus_shimizu_170914/',\n// \t\t\t//var dirName = 'http://localhost/plus_shimizu_170914/',\n// \t\t\tstateLocation = location.href.replace(dirName, ''),\n// \t\t\telementLocation = $(this).attr('href'),\n// \t\t\telementText = $(this).text(),\n// \t\t\telementClass = $(this).attr('class'),\n// \t\t\tcurrentClass = 'current';\n// \t\tif (stateLocation === elementLocation) {\n// \t\t\tvar elementChild = $(this).html();\n// \t\t\t//var newElement = $('<span>' + '</span>').addClass(elementClass).addClass(currentClass);\n// \t\t\t//$(this).replaceWith(newElement);\n// \t\t\tif (elementChild !== null) {\n// \t\t\t\t//$(newElement).prepend(elementChild);\n// \t\t\t\t// console.log(elementChild);\n// \t\t\t\t$(this).addClass(currentClass);\n// \t\t\t}\n// \t\t}\n// \t});\n// });\n// -------------------------------------\n//END ancor_check.js ========================================\n\n\n//sticky.js\n//navの高さがスクロール上部にきたらfixed（スマホは解除）\n//\n// $(function() {\n//   var $win = $(window);\n//   var $nav = $('.nav');\n//   var navHeight = $($nav).innerHeight();\n//   var navPos = $nav.offset().top;\n//   var windowWidth = $win.width();\n//   var breakPoint = 600;\n//   $win.on('load scroll', function() {\n//     var activePos = $(this).scrollTop();\n//     if (activePos > navPos && windowWidth > breakPoint) {\n//       $nav.css({\n//         'position': 'fixed',\n//         'top': '0',\n//         'z-index': '999'\n//       });\n//       $nav.parent().css('margin-bottom', navHeight);\n//     } else if (activePos < navPos && windowWidth > breakPoint) {\n//       $nav.css('position', 'static');\n//       $nav.parent().css('margin-bottom', '0');\n//     }\n//   });\n// });\n\n\n//include_anchor.js\n//自動で内部リンクを生成する\n\n$(function() {\n\tvar anchorName = 'anchor';\n\tvar $localAnchor = $('.JS_anchorLink');\n\tvar $targetModule = $('.JS_targetContainer');\n\t$($localAnchor).each(function(i) {\n\t\t$(this).attr('href', '#' + anchorName + (1 + i++));\n\t});\n\t$($targetModule).each(function(i) {\n\t\t$(this).attr('id', anchorName + (1 + i++));\n\t});\n});\n\n//pallaxScroll\n$(function() {\n\t$(window).bind('scroll', function(e) {\n\t\tparallaxScroll();\n\t});\n\n\tfunction parallaxScroll() {\n\t\tvar scrolled = $(window).scrollTop();\n\t\t$('#object-is-plx').css('top', (100 - (scrolled * 0.2)) + 'px');\n\t\tvar scrolled = $(window).scrollTop();\n\t\t$('#img-is-plx').css('top', (0 - (scrolled * 0.05)) + 'px');\n\t\t//開始位置top-20%でスクロールに応じて20%遅らせる状態\n\t};\n});\n\n//togloop\n$('.scroll-ancher').click(function() {\n\t$(this).toggleClass('is-tap').delay(1000).queue(function(loop) {\n\t\t$(this).toggleClass('is-tap');\n\t\treturn loop();\n\t});\n});\n\n\nwindow.addEventListener('DOMContentLoaded', function() {\n\t//formにname属性\"contactForm\"をつける\n\tif (document.getElementById('js_form')) {\n\t\tvar tgSelector = document.getElementById('js_form'), //select要素につけるID\n\t\t\trecruitForm = document.getElementsByClassName('js_recruitForm'), //求人のフォームにつけるクラス\n\t\t\tcontactForm = document.getElementsByClassName('js_contactForm'); //お問い合わせのフォームにつけるクラス\n\t\tformAction = document.contactForm.action,\n\t\t\tincludeUrl = '?type=recruit', //求人フォーム用のconfigファイル指定（ファイル名\"config.recruit.cgi\"のケース）\n\t\t\tnewcgiUrl = formAction + includeUrl,\n\t\t\tmfpJs = document.getElementById('mfpjs'); //メールフォームプロのフォーム内のscriptエレメントにつけるID\n\t\tvar tgFormChild, formLength;\n\n\t\tfunction hideForm(tgForm) {\n\t\t\tformLength = tgForm.length - 1;\n\t\t\tfor (var i = 0; i <= formLength; i++) {\n\t\t\t\ttgForm[i].style.display = 'none';\n\t\t\t\ttgFormChild = tgForm[i].querySelectorAll('input, select, textarea');\n\t\t\t\tfor (var e = 0; e <= tgFormChild.length - 1; e++) {\n\t\t\t\t\ttgFormChild[e].disabled = 'true';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction existForm(tgForm) {\n\t\t\tformLength = tgForm.length - 1;\n\t\t\tfor (var i = 0; i <= formLength; i++) {\n\t\t\t\ttgForm[i].style.display = '';\n\t\t\t\ttgFormChild = tgForm[i].querySelectorAll('input, select, textarea');\n\t\t\t\tfor (var e = 0; e <= tgFormChild.length - 1; e++) {\n\t\t\t\t\ttgFormChild[e].disabled = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction setCgi() {\n\t\t\tdocument.contactForm.action = newcgiUrl;\n\t\t\tmfpJs.src = newcgiUrl;\n\t\t}\n\n\t\tfunction returnCgi() {\n\t\t\tvar returnUrl = formAction;\n\t\t\tdocument.contactForm.action = returnUrl;\n\t\t\tmfpJs.src = returnUrl;\n\t\t}\n\t\texistForm(contactForm);\n\t\thideForm(recruitForm);\n\t\ttgSelector.onchange = function() {\n\t\t\tvar value = this.value,\n\t\t\t\tisContact = 'お問い合わせ', //ID名\"js_form\"のvalueがお問い合わせ\n\t\t\t\tisRecruit = '求人応募'; //ID名\"js_form\"のvalueが求人応募\n\t\t\tswitch (value) {\n\t\t\t\tcase isContact:\n\t\t\t\t\texistForm(contactForm);\n\t\t\t\t\thideForm(recruitForm);\n\t\t\t\t\treturnCgi();\n\t\t\t\t\tbreak;\n\t\t\t\tcase isRecruit:\n\t\t\t\t\texistForm(recruitForm);\n\t\t\t\t\thideForm(contactForm);\n\t\t\t\t\tsetCgi();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\texistForm(contactForm);\n\t\t\t\t\thideForm(recruitForm);\n\t\t\t\t\treturnCgi();\n\t\t\t\t\tbreak;\n\t\t\t} //End switch\n\t\t}\n\t} //End if\n});\n"]}